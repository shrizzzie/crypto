
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Scam Checker</title>
  
  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <!-- SweetAlert -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(to right, #f5f7fa, #c3e6cb);
      margin: 0;
      padding: 0;
    }

    header {
      background-color: #2c3e50;
      color: white;
      padding: 1rem 2rem;
      text-align: center;
    }

    .container {
      padding: 30px;
      max-width: 1000px;
      margin: auto;
    }

    .input-box {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
    }

    .input-box input {
      flex: 1;
      padding: 12px;
      border-radius: 6px;
      border: 1px solid #ccc;
      font-size: 16px;
      transition: 0.3s;
    }

    .input-box input.error {
      border-color: red;
    }

    .input-box button {
      padding: 12px 20px;
      background-color: #27ae60;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 16px;
    }

    .results {
      background: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
      margin-top: 20px;
    }

    .result-grid {
      display: flex;
      flex-wrap: wrap;
      gap: 30px;
      margin-top: 20px;
      justify-content: center;
    }

    .result-item {
      font-size: 17px;
      margin-bottom: 12px;
    }

    canvas {
      max-width: 100%;
    }

    .chart-box {
      flex: 1 1 45%;
      padding: 10px;
    }

    .info-box {
      flex: 1 1 45%;
    }
  </style>
</head>
<body>

  <header>
    <h1>Scam Checker Tool</h1>
    <p>Check if a wallet or transaction hash has suspicious activity</p>
  </header>

  <div class="container">
    <div class="input-box">
      <input type="text" id="walletInput" placeholder="Enter wallet address or transaction hash..." />
      <button onclick="checkScam()">Scan</button>
    </div>

    <div class="results" id="resultSection" style="display: none;">
      <h3>Scam Check Results</h3>

      <div class="result-grid">
        <div class="info-box">
          <div class="result-item">üîê <strong>Risk Score:</strong> <span id="riskScore">--</span>%</div>
          <div class="result-item">üö® <strong>Flagged by Users:</strong> <span id="flagCount">--</span></div>
          <div class="result-item">‚ö† <strong>Unusual Behavior:</strong> <span id="behavior">--</span></div>
        </div>

        <div class="chart-box">
          <canvas id="riskPie"></canvas>
        </div>

        <div class="chart-box" style="flex-basis: 100%;">
          <h4>Transaction Flow</h4>
          <canvas id="flowChart" height="120"></canvas>
        </div>
      </div>
    </div>
  </div>

  <script>
    let flowChartInstance;
    let riskPieInstance;

    function isValidWalletOrHash(input) {
      const walletRegex = /^0x[a-fA-F0-9]{40}$/;
      const txHashRegex = /^0x[a-fA-F0-9]{64}$/;
      return walletRegex.test(input) || txHashRegex.test(input);
    }

    function checkScam() {
      const walletInput = document.getElementById('walletInput');
      const wallet = walletInput.value.trim();
      
      if (wallet === "") {
        Swal.fire({
          icon: 'error',
          title: 'Empty Field!',
          text: 'Please enter a wallet address or transaction hash!',
        });
        walletInput.classList.add('error');
        return;
      }

      if (!isValidWalletOrHash(wallet)) {
        Swal.fire({
          icon: 'error',
          title: 'Invalid Format!',
          text: 'The address or transaction hash format is incorrect!',
        });
        walletInput.classList.add('error');
        return;
      }

      // Input is valid
      walletInput.classList.remove('error');
      
      Swal.fire({
        icon: 'success',
        title: 'Valid Input!',
        text: 'Valid address or transaction hash detected.',
        timer: 2000,
        showConfirmButton: false
      });

      // Fake risk data
      const risk = Math.floor(Math.random() * 100);
      const flags = Math.floor(Math.random() * 1000);
      const unusual = risk > 70 ? "Yes ‚Äì Suspicious transfers" : "No suspicious behavior";

      document.getElementById("riskScore").textContent = risk;
      document.getElementById("flagCount").textContent = flags;
      document.getElementById("behavior").textContent = unusual;
      document.getElementById("resultSection").style.display = "block";

      if (flowChartInstance) flowChartInstance.destroy();
      if (riskPieInstance) riskPieInstance.destroy();

      // Line Chart
      const flowCtx = document.getElementById('flowChart').getContext('2d');
      flowChartInstance = new Chart(flowCtx, {
        type: 'line',
        data: {
          labels: ['Day 1', 'Day 2', 'Day 3', 'Day 4', 'Day 5'],
          datasets: [{
            label: 'Tx Volume',
            data: [5, 15, 8, 30, 50],
            borderColor: '#27ae60',
            backgroundColor: 'rgba(39, 174, 96, 0.2)',
            fill: true,
            tension: 0.4
          }]
        },
        options: {
          responsive: true
        }
      });

      // Pie Chart
      const pieCtx = document.getElementById('riskPie').getContext('2d');
      riskPieInstance = new Chart(pieCtx, {
        type: 'doughnut',
        data: {
          labels: ['Safe', 'Risky'],
          datasets: [{
            data: [100 - risk, risk],
            backgroundColor: ['#2ecc71', '#e74c3c'],
            borderWidth: 1
          }]
        },
        options: {
          responsive: true,
          plugins: {
            legend: {
              position: 'bottom'
            }
          }
        }
      });
    }
  </script>
</body>
</html>